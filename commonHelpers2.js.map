{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  email: document.querySelector('.email-input'),\n  textarea: document.querySelector('.message-input'),\n  btn: document.querySelector('.btn-submit'),\n};\nconst STORAGE_KEY = 'feedback-form-state';\nconst formData = {};\nsavedTextarea();\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.form.addEventListener('input', onFormInput);\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n  evt.currentTarget.reset();\n  localStorage.removeItem(STORAGE_KEY);\n  console.log(formData);\n}\nfunction onFormInput(evt) {\n  formData[evt.target.name] = evt.target.value;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\nfunction savedTextarea() {\n  const savedMessage = localStorage.getItem(STORAGE_KEY);\n\n  if (savedMessage) {\n    const parseMessage = JSON.parse(savedMessage).message;\n    refs.textarea.value = parseMessage;\n  }\n  const savedEmail = localStorage.getItem(STORAGE_KEY);\n\n  if (savedEmail) {\n    const parseEmail = JSON.parse(savedEmail).email;\n    refs.email.value = parseEmail;\n  }\n}\n"],"names":["refs","STORAGE_KEY","formData","savedTextarea","onFormSubmit","onFormInput","evt","savedMessage","parseMessage","savedEmail","parseEmail"],"mappings":"4HACA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,EAC7C,MAAO,SAAS,cAAc,cAAc,EAC5C,SAAU,SAAS,cAAc,gBAAgB,EACjD,IAAK,SAAS,cAAc,aAAa,CAC3C,EACMC,EAAc,sBACdC,EAAW,CAAA,EACjBC,IACAH,EAAK,KAAK,iBAAiB,SAAUI,CAAY,EACjDJ,EAAK,KAAK,iBAAiB,QAASK,CAAW,EAE/C,SAASD,EAAaE,EAAK,CACzBA,EAAI,eAAc,EAClBA,EAAI,cAAc,QAClB,aAAa,WAAWL,CAAW,EACnC,QAAQ,IAAIC,CAAQ,CACtB,CACA,SAASG,EAAYC,EAAK,CACxBJ,EAASI,EAAI,OAAO,IAAI,EAAIA,EAAI,OAAO,MACvC,aAAa,QAAQL,EAAa,KAAK,UAAUC,CAAQ,CAAC,CAC5D,CACA,SAASC,GAAgB,CACvB,MAAMI,EAAe,aAAa,QAAQN,CAAW,EAErD,GAAIM,EAAc,CAChB,MAAMC,EAAe,KAAK,MAAMD,CAAY,EAAE,QAC9CP,EAAK,SAAS,MAAQQ,CACvB,CACD,MAAMC,EAAa,aAAa,QAAQR,CAAW,EAEnD,GAAIQ,EAAY,CACd,MAAMC,EAAa,KAAK,MAAMD,CAAU,EAAE,MAC1CT,EAAK,MAAM,MAAQU,CACpB,CACH"}